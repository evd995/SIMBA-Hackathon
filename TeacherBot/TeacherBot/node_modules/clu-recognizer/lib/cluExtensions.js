"use strict";
// Copyright (c) Microsoft Corporation.
// Licensed under the MIT License.
Object.defineProperty(exports, "__esModule", { value: true });
exports.CluExtensions = void 0;
/**
 * Utility class for CLU Results.
 */
class CluExtensions {
    /**
     * Extract intents from a CLU Result.
     * @param cluResult The CLU Result.
     * @returns An object with the extracted intents.
     */
    static extractIntents(cluResult) {
        const result = {};
        if (!!(cluResult === null || cluResult === void 0 ? void 0 : cluResult.intents) && Array.isArray(cluResult.intents)) {
            for (const intent of cluResult.intents) {
                result[this.normalizedValue(intent.category)] = {
                    score: !intent.confidenceScore
                        ? 0.0
                        : Number.parseFloat(intent.confidenceScore),
                };
            }
        }
        return result;
    }
    /**
     * Extract entities from a CLU Result.
     * @param cluResult The CLU Result.
     * @returns An object with the extracted entities.
     */
    static extractEntities(cluResult) {
        const result = {};
        if (!!(cluResult === null || cluResult === void 0 ? void 0 : cluResult.entities) && Array.isArray(cluResult.entities)) {
            for (const entity of cluResult.entities) {
                const normalizedCategory = this.normalizedValue(entity.category);
                if (!result[normalizedCategory]) {
                    result[normalizedCategory] = [];
                }
                result[normalizedCategory].push(entity);
            }
        }
        return result;
    }
    static normalizedValue(value) {
        return value.replace('.', '_').replace(' ', '_');
    }
}
exports.CluExtensions = CluExtensions;
//# sourceMappingURL=cluExtensions.js.map